
<h1>Administrar Reservas (Admin)</h1>

<label>Email del usuario:</label>
<input type="email" [(ngModel)]="emailUsuario">
<button (click)="buscarUsuario()">Buscar</button>

<div *ngIf="cargando">Cargando datos...</div>
<div *ngIf="error" style="color: red;">{{ error }}</div>

<hr>

<div *ngIf="usuario">
  <h3>Datos del usuario</h3>
  <p><strong>ID:</strong> {{ usuario.id }}</p>
  <p><strong>Nombre:</strong> {{ usuario.nombre }}</p>
  <p><strong>Documento:</strong> {{ usuario.documento }}</p>

  <h3>Reservas</h3>
  <div *ngIf="reservas.length > 0; else sinReservas">
    <div *ngFor="let r of reservas" style="border: 1px solid #ccc; margin-bottom: 10px; padding: 10px;">
      <p><strong>ID:</strong> {{ r.id }}</p>
      <p><strong>Check-in:</strong> {{ r.check_in_date }}</p>
      <p><strong>Check-out:</strong> {{ r.check_out_date }}</p>
      <p><strong>Status:</strong> {{ r.status }}</p>

      <h4>Acompañantes</h4>
      <ul *ngIf="r.companions?.length > 0; else sinCompanions">
        <li *ngFor="let c of r.companions">
          {{ c.first_name }} {{ c.last_name_1 }} ({{ c.document_type }} {{ c.document_number }})
        </li>
      </ul>
      <ng-template #sinCompanions>
        <p>No hay acompañantes.</p>
      </ng-template>
    </div>
  </div>

  <ng-template #sinReservas>
    <p>Este usuario no tiene reservas.</p>
  </ng-template>
</div>



